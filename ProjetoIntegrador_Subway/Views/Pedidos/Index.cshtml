@model IEnumerable<ProjetoIntegrador_Subway.Models.Produto>

@{
    ViewBag.Title = "Index";
    Layout = "~/Views/Shared/_Layout.cshtml";
    ViewBag.Categoria = Model;
}

<div class="row">
    <div class="col-md-6 col-centered">
        <center><h3>Pedido - Ingredientes</h3></center>
    </div>
</div>
<hr />
<div class="row">
    <div class="col-md-5">
        @*<select class="form-control" name="tipoProduto" id="tipoProduto" onchange="myFunction()" style="max-width: 100%;">
                @{
                    foreach (var item in ViewBag.CategoriaP)
                    {
                        <option>@item</option>
                    }
                }
            </select>*@

        <table class="table table-hover table-bordered" style="background-color: white !important" id="myTable">
            <tr>
                <th>
                    <center>
                        @Html.DisplayNameFor(model => model.nomeProduto)
                    </center>
                </th>
                <th>
                    <center>
                        @Html.DisplayNameFor(model => model.valorProduto)
                    </center>
                </th>
                <th>
                    <center>
                        @Html.DisplayNameFor(model => model.tipoProduto)
                    </center>
                </th>
                <th></th>
            </tr>

            @{
                <tr>
                    <th colspan="4"><center>Pães</center></th>
                </tr>
                foreach (var item in Model.Where(u => u.tipoProduto.Equals("Pães")))
                {
                    <tr>
                        <td>
                            @Html.DisplayFor(modelItem => item.nomeProduto)
                        </td>
                        <td>
                            <center>
                                R$ @Html.DisplayFor(modelItem => item.valorProduto)
                            </center>
                        </td>
                        <td>
                            @Html.DisplayFor(modelItem => item.tipoProduto)
                        </td>
                        <td onclick="addToList(@item.ID, '@item.nomeProduto', @item.limitePorLanche, @item.qtdEstoque, @item.valorProduto)">
                            <p class="btn-link">Adicionar ao lanche</p>
                        </td>
                    </tr>
                }
                <tr>
                    <th colspan="4"><center>Ingredientes</center></th>
                </tr>
                foreach (var item in Model.Where(u => u.tipoProduto.Equals("Ingredientes")))
                {
                    <tr>
                        <td>
                            @Html.DisplayFor(modelItem => item.nomeProduto)
                        </td>
                        <td>
                            <center>
                                R$ @Html.DisplayFor(modelItem => item.valorProduto)
                            </center>
                        </td>
                        <td>
                            @Html.DisplayFor(modelItem => item.tipoProduto)
                        </td>
                        <td onclick="addToList(@item.ID, '@item.nomeProduto', @item.limitePorLanche, @item.qtdEstoque, @item.valorProduto)">
                            <p class="btn-link">Adicionar ao lanche</p>
                            @*@Html.ActionLink("Adicionar ao lanche", "", new { id = item.ID })*@
                        </td>
                    </tr>
                }

                <tr>
                    <th colspan="4"><center>Saladas</center></th>
                </tr>


                foreach (var item in Model.Where(u => u.tipoProduto.Equals("Saladas")))
                {
                    <tr>
                        <td>
                            @Html.DisplayFor(modelItem => item.nomeProduto)
                        </td>
                        <td>
                            <center>
                                R$ @Html.DisplayFor(modelItem => item.valorProduto)
                            </center>
                        </td>
                        <td>
                            @Html.DisplayFor(modelItem => item.tipoProduto)
                        </td>
                        <td onclick="addToList(@item.ID, '@item.nomeProduto', @item.limitePorLanche, @item.qtdEstoque, @item.valorProduto)"><td onclick="addToList(@item.ID, '@item.nomeProduto', @item.limitePorLanche, @item.qtdEstoque, @item.valorProduto)">
                            <p class="btn-link">Adicionar ao lanche</p>
                            @*@Html.ActionLink("Adicionar ao lanche", "", new { id = item.ID })*@
                        </td>
                    </tr>
                }
                <tr>
                    <th colspan="4"><center>Molhos</center></th>
                </tr>
                foreach (var item in Model.Where(u => u.tipoProduto.Equals("Molhos")))
                {
                    <tr>
                        <td>
                            @Html.DisplayFor(modelItem => item.nomeProduto)
                        </td>
                        <td>
                            <center>
                                R$ @Html.DisplayFor(modelItem => item.valorProduto)
                            </center>
                        </td>
                        <td>
                            @Html.DisplayFor(modelItem => item.tipoProduto)
                        </td>
                        <td onclick="addToList(@item.ID, '@item.nomeProduto', @item.limitePorLanche, @item.qtdEstoque, @item.valorProduto)">
                            <p class="btn-link">Adicionar ao lanche</p>
                            @*@Html.ActionLink("Adicionar ao lanche", "", new { id = item.ID })*@
                        </td>
                    </tr>
                }
                <tr>
                    <th colspan="4"><center>Bebidas</center></th>
                </tr>
                foreach (var item in Model.Where(u => u.tipoProduto.Equals("Bebidas")))
                {
                    <tr>
                        <td>
                            @Html.DisplayFor(modelItem => item.nomeProduto)
                        </td>
                        <td>
                            <center>
                                R$ @Html.DisplayFor(modelItem => item.valorProduto)
                            </center>
                        </td>
                        <td>
                            @Html.DisplayFor(modelItem => item.tipoProduto)
                        </td>
                        <td onclick="addToList(@item.ID, '@item.nomeProduto', @item.limitePorLanche, @item.qtdEstoque, @item.valorProduto)">
                            <p class="btn-link">Adicionar ao pedido</p>
                            @*@Html.ActionLink("Adicionar ao lanche", "", new { id = item.ID })*@
                        </td>
                    </tr>
                }

            }
        </table>
    </div>
    <div class="col-md-5" style="max-width: 30%">
        <div class="panel panel-default">
            <div class="panel-heading">Pagamento</div>
            <div class="panel-body">
                <p>MasterCard</p>
            </div>
        </div>
    </div>
    <div class="col-md-5" style="float: right; width: 27%;">
        <div class="panel panel-default">
            <div class="panel-heading">Visualização do pedido</div>
            <div class="panel-body">
                <ol id="idOlPedido">

                </ol>
                <p>-------Total-------</p>
            </div>
        </div>
        <input type="button" value="Concluir" class="btn btn-default" style="float: right" />
    </div>
</div>
<script type="text/javascript"> 
    function addToList(id, nome, limite, estoque, valor) {
        $("#idOlPedido").append("<li>" + nome + " - R$ " + valor + "</li>");
    }
</script>
